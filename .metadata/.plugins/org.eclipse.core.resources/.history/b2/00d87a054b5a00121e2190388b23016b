package com.ivtolkachev.facebookfriends.data;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteException;
import android.util.Log;

public class DatabaseWorker {

	private static final String TAG = "DatabaseWorkerTag";
	
	private static DatabaseWorker instance = null;
	private SQLiteDatabase db;
	private DatabaseHelper dbHelper;
	
	private DatabaseWorker(Context context){
		dbHelper = new DatabaseHelper(context);
	}
	
	public static DatabaseWorker getDatabaseWorker(Context context){
		if (instance == null) {
			 instance = new DatabaseWorker(context);
		}
		return instance;
	}
	
	public void openDB(Context context){
		if (!db.isOpen()){
			try {
				db = dbHelper.getWritableDatabase();
			} catch (SQLiteException e) {
				Log.e(TAG, "Error with opening of db.");
				e.printStackTrace();
			}
						
		}
	}
	
	public void closeDB(){
		db.close();
	}
	
}
